<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.aPlatform.mappers.FinanceDataMapper">
	<select resultType="com.aPlatform.controller.service.finance.VO.FinanceVO" id="getAllCode">
		<![CDATA[
			SELECT
				CODE 		AS "finCode"
				, NAME 		AS "finName"
			FROM
				SHARES_FIN_INFO
		   ]]>
	</select>
	<select resultType="com.aPlatform.controller.service.finance.VO.FinanceVO"
		id="getMappingUrl">
		<![CDATA[
			SELECT
				SUB_CUL_1 		AS "finType"
				, SUB_CUL_2 	AS "finUrl"
			FROM
				COM_CD_BAS
			WHERE
				GROUP_ID 		= '20'
				AND SERVICE_ID 		= 'FIN'
				AND SUB_CONTENT = 'url'
		   ]]>
	</select>
	<select resultType="com.aPlatform.controller.service.finance.VO.FinanceVO"
		id="getMappingPharse">
		<![CDATA[
			SELECT
				SUB_CUL_1 		AS "finType"
				, SUB_CUL_2 	AS "finPharse"
			FROM
				COM_CD_BAS
			WHERE
				GROUP_ID = '20'
				AND SERVICE_ID = 'FIN'
				AND SUB_CONTENT = 'pharse'
		]]>
	</select>
	<insert id="insertSharesInfo"
		parameterType="com.aPlatform.controller.service.finance.VO.FinanceVO">
		<![CDATA[
			INSERT INTO
				SHARES_FIN_INFO
				(
				CODE
				, NAME
				, EXCHANGE
				)
			VALUES
				(
				#{finCode}
				, #{finName}
				,
				#{exchange}
				)
		   ]]>
	</insert>
	<delete id="deleteAllDataInShareTable">
		<![CDATA[
			DELETE FROM SHARES_FIN_INFO
		]]>
	</delete>
	<!-- <insert id="insertUserInterest" parameterType="com.aPlatform.controller.service.finance.VO.FinanceVO"> -->
	<insert id="insertUserInterest" parameterType="map">
		 <![CDATA[
		 	INSERT INTO
		 		SHARES_USER_INTEREST_DTL
		 		(
		 		FIN_CODE
				, FIN_NAME
				, EXCHANGE
				, TGT_USER_ID
				, CREAT_DT
				, CHAG_DT
				, INTEREST_YN
				, CTG_CUL_NM
				, COLUMN9
				, COLUMN10
				, COLUMN11
				, COLUMN12 
		 		)
		 	VALUES
		 		(
		 		#{finCode}
		 		, #{finName}
		 		, #{exchange}
		 		, #{userId}
		 		, SYSDATE
		 		, SYSDATE
		 		, #{interestYn}
		 		, 'def'
		 		, null
		 		, null
		 		, null
		 		, null
		 		)
		 ]]>
	</insert>
</mapper>